const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CallDisplay-CbWunkWr.js","assets/main-BIkQ7q39.js","assets/main-Iw5AehNi.css","assets/TempDisplay-COFFLqlM.js"])))=>i.map(i=>d[i]);
import{r,j as e,a as j,_ as h}from"./main-BIkQ7q39.js";import{F as D}from"./Footer-BEKXYf4o.js";function f(){const[t,n]=r.useState(null);return r.useEffect(()=>{fetch("/events.json").then(a=>a.json()).then(a=>{const c=new Date;c.setHours(0,0,0,0);const i=a.map(s=>({...s,dateObj:new Date(s.date)})).filter(s=>s.dateObj>=c).sort((s,o)=>s.dateObj.getTime()-o.dateObj.getTime());i.length>0&&n(i[0])})},[]),t}function g(t){const n=new Date,a=new Date(t);return Math.ceil((a.getTime()-n.setHours(0,0,0,0))/(1e3*60*60*24))-1}function p(){const t=f(),n=new Date,a=`${n.getFullYear()}년 ${n.getMonth()+1}월 ${n.getDate()}일`,c=e.jsx("p",{className:"event-text",children:a});let i;t?i=t.name:i="예정된 행사 없음";let s;t?s=g(t.date):s=0;const o=e.jsx("p",{className:"event-text",children:i});let l=e.jsx("p",{className:"d-counter",children:"D-"+s});return s==0&&(l=e.jsx("p",{className:"d-counter",children:"D-DAY"})),e.jsxs(e.Fragment,{children:[c,o,l]})}function _(t){const n=t.items.length==0&&e.jsx("li",{children:"항목이 없습니다."});return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:t.heading}),e.jsxs("ul",{className:"list-ul",children:[t.items.map(c=>e.jsx("li",{className:"list-item",children:c},c)),n]})]})}const E="05c373549f66419da390b6f0ea2c59dc",v="B10",S="7010240";function N(t,n){const[a,c]=r.useState([]);return r.useEffect(()=>{fetch(`https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=${E}&Type=json&ATPT_OFCDC_SC_CODE=${v}&SD_SCHUL_CODE=${S}&MLSV_YMD=${t}&MMEAL_SC_CODE=${n}`).then(i=>i.json()).then(i=>{var o,l,m,u,x;const s=((x=(u=(m=(l=(o=i==null?void 0:i.mealServiceDietInfo)==null?void 0:o[1])==null?void 0:l.row)==null?void 0:m[0])==null?void 0:u.DDISH_NM)==null?void 0:x.split("<br/>"))??[];for(let d=0;d<s.length;d++)s[d]=s[d].replace(/\([^)]*\)/g,"").trim();c(s)})},[t]),a}const O=r.lazy(()=>h(()=>import("./CallDisplay-CbWunkWr.js"),__vite__mapDeps([0,1,2]))),y=r.lazy(()=>h(()=>import("./TempDisplay-COFFLqlM.js"),__vite__mapDeps([3,1,2])));function C(){const t=new Date,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0");return`${n}${a}${c}`}function T(){const{classId:t}=j(),n=N(C(),2);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blur"}),e.jsx("div",{className:"card-transparent food-div",children:e.jsx(_,{items:n,heading:"중식"})}),e.jsxs("div",{className:"card-transparent d-counter-div",children:[e.jsx(p,{}),e.jsx(r.Suspense,{fallback:e.jsx("div",{children:"Loading components..."}),children:e.jsx(y,{})})]}),e.jsx("div",{className:"footer-text",children:e.jsx(D,{})}),e.jsxs("div",{className:"class-name-display",children:[t,"반"]}),e.jsx(r.Suspense,{fallback:e.jsx("div",{children:"Loading components..."}),children:e.jsx(O,{})})]})}export{T as default};

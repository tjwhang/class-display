import{r as t,a as g,j as s}from"./index-Dh4BDzNg.js";function x(){const[a,r]=t.useState(""),[o,c]=t.useState(""),[n,d]=t.useState(""),{classId:i}=g();return t.useEffect(()=>{const l=new WebSocket(`ws://${window.location.host}`);return l.onmessage=m=>{const e=JSON.parse(m.data);e.type==="SEND_MESSAGE"?(r(e.payload.messageText),c(e.payload.sender||""),d(e.payload.classId||"")):e.type==="CLEAR_MESSAGE"&&(r(""),c(""),d(""))},()=>l.close()},[]),a&&n&&n!=="ALL"&&n!==i?null:s.jsx("div",{className:"message-text"+(a?"":" hidden"),children:a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"message-content",children:a}),o&&s.jsxs("div",{className:"message-sender",children:[o," 선생님"]})]})})}export{x as default};

import{r as a,j as t}from"./main-HcGwkjfo.js";function m({onSelect:o,onlyClass:l}){const[h,p]=a.useState([]),[n,c]=a.useState(l||""),[u,d]=a.useState([]);return a.useEffect(()=>{fetch("/api/students/all").then(e=>e.json()).then(e=>{const i=Object.keys(e).map(s=>({value:s,label:s+"반"}));p(i),l&&c(l)})},[l]),a.useEffect(()=>{if(!n){d([]);return}fetch(`/api/students/${n}`).then(e=>e.json()).then(e=>{const i=Object.entries(e).map(([s,r])=>({id:s,name:String(r)})).sort((s,r)=>Number(s.id)-Number(r.id));d(i)})},[n]),t.jsxs("div",{className:"student-selector",children:[t.jsxs("select",{value:n,onChange:e=>c(e.target.value),"aria-label":"반 선택",children:[t.jsx("option",{value:"",children:"반 선택"}),h.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]}),t.jsx("div",{className:"student-list-panel",children:t.jsxs("ul",{children:[u.length===0&&t.jsx("li",{className:"no-student",children:"학생 없음"}),u.map(e=>t.jsx("li",{onClick:()=>o(n,e.id),children:`${e.id} ${e.name}`},e.id))]})})]})}export{m as default};
